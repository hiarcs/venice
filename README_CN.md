# Venice 
元数据驱动的ETL工具，并支持自动生成RESTFul接口

## 项目结构
### Shylock
用于管理各数据源与原始数据层、应用层之间的数据同步、映射关系。用于生成各服务的代码并记录变更历史。

### Antonio
负责将不同业务系统数据库的数据采集到原始数据层，采集的过程不进行重构。

### Bassanio
从原始数据层抓取数据到应用层的服务，用于在兼容原始表结构的场合，如迁移现有报表。

### Portia
从业务实体层抓取指定信息给到应用数据层服务，该服务提供标准的RESTFul接口，并允许给予应用数据层额外的功能接口。

## 使用场景概述
Venice系统将不同数据源的数据以较短的间隔（数秒或更长）同步到原始数据层，并根据制定的规则（重构、冲突处理）进行整合并保存到中央数据层。中央数据层的数据可作为业务依据提供到其它平台、使用者。Venice同时在不同的数据层提供了基础的RESTFul接口，并允许快速开发特定的RESTFul API。

当需要将A系统纳入平台时，开发人员登录Shylock平台，提供地址、类别、登录信息以新建对应的数据源。数据源可用于不同的项目，假设本次需要将A系统数据库中T1、T2、T3表的信息整合到中央数据库，则新建项目p，并在该项目中定义各表的同步选项及与中央数据层其它数据的整合规则。定义完毕后，系统自动根据使用场景，生成原始数据采集服务（以Antonio为模版）、中央数据库服务（以Portia为模版）或原始数据复制服务（以Bassanio为模版）。生成的服务可进行二次开发，并在后期需求发生变化时直接通过Shylock更新升级。所有代码生成、发布、部署、备份及维护均通过Shylock管理并记录。

### 适用场合
公司正在运行某个架构很差或部署得不怎么严肃的老旧系统，你需要做准实时的报表，怕影响性能，可系统偏偏不支持或不方便做读写分离、镜像、高可用性等。

有多个系统的数据需要整合进来或者是交换数据，它们共享类似的业务实体，但都有着自己的实现方式，使用着不同的数据结构、业务规则和技术栈，但你却需要把数据打通，并提供一个中央数据平台来提供权威数据。

系统的数据积累的很快，但原有的系统并不支持水平切分，但为了统计等原因，需要把同步一部分数据或将数据分散到不同的服务器后再进行处理以便获得更好的性能。

### 不适用场合
公司很有钱：那就买Informatica吧。

灾备：Venice主要针对的是异构环境的数据同步，并不适用于灾备场合。但是它可以从数据角度（而非数据库角度）保存一份数据并记录每次同步的变更，它也可以随时还原出被同步数据在某个同步点的数据快照。

实时或者准实时的场合：Venice通过JDBC、RESTFul接口、文本导入的方式获取数据，对数据源会产生性能影响，同时受查询速度限制，一般同步间隔数秒到数分钟。

同步间隔特别大的场合：没有必要使用Venice，可以选择任何一款成熟的ETL产品即可，如Talend。

